var FadedMultiselect=function(a){var b,c=$(a).first(),d="<div class='faded-multiselect'>  <button class='faded-multiselect-button'>    Select    <div class='caret'>&#9662;</div>  </button>  <div class='faded-multiselect-dropdown'></div>  <div class='original-multiselect'></div></div>",e="<div class='faded-multiselect-dropdown-option'>  <input type='checkbox'>  <span>OptionX</span></div>",f=function(){b=$(d),c=c.replaceWith(b),b.find(".original-multiselect").append(c),g()},g=function(){j(),k(),b.find(".faded-multiselect-button").bind("click",function(){$(this).closest(".faded-multiselect").toggleClass("open")}),b.find(".faded-multiselect-dropdown-option").bind("click",function(){var a=$(this).find("input[type=checkbox]");a.attr("checked",!a.attr("checked")),m($(this).attr("data-value"))})},h=function(){b.replaceWith(c)},i=function(){return c.val()},j=function(){b.find(".faded-multiselect-dropdown").html("")},k=function(){$.each(c.find("option"),function(a,c){var d=$(c),f=$(e);f.find("span").html(d.html()),f.attr("data-value",d.val()),b.find(".faded-multiselect-dropdown").append(f)}),l()},l=function(){$.each(c.find("option"),function(a,c){var d=$(c),e=d[0].selected,f=$(c).attr("value"),g=b.find(".faded-multiselect-dropdown").find("[data-value="+f+"]"),h=g.find("input[type=checkbox]");h.attr("checked",e)})},m=function(a){var b=c.find("option[value="+a+"]")[0];b.selected=!b.selected};return f(),{init:f,refresh:g,destroy:h,getValue:i}};